<div class="min-vh-100">
  <!-- Header -->
  <nav class="navbar">
    <div class="container">
      <div class="navbar-brand">
        <i class="fas fa-leaf"></i>
        <span>Botanic</span>
      </div>
      
      <div class="navbar-nav">
        <button class="btn btn-success btn-sm" (click)="addPlant()" *ngIf="isLoggedIn()">
          <i class="fas fa-plus"></i>Ajouter
        </button>
        <button class="btn btn-outline btn-sm" (click)="loadPlants()" [disabled]="isLoading">
          <span class="spinner" *ngIf="isLoading"></span>
          <i class="fas fa-sync-alt" *ngIf="!isLoading"></i>Actualiser
        </button>
        <button class="btn btn-outline btn-sm" (click)="logout()" *ngIf="isLoggedIn()">
          <i class="fas fa-sign-out-alt"></i>Déconnexion
        </button>
      </div>
    </div>
  </nav>

  <!-- Contenu principal -->
  <div class="container py-8">
    <!-- Messages d'erreur -->
    <div class="alert alert-danger fade-in" *ngIf="errorMessage">
      <i class="fas fa-exclamation-triangle"></i>{{ errorMessage }}
    </div>

    <!-- Loading state -->
    <div class="loading" *ngIf="isLoading">
      <div class="loading-spinner"></div>
      <h4 class="text-success mb-2">Chargement des plantes</h4>
      <p class="text-secondary">Récupération du catalogue...</p>
    </div>

    <!-- Grille des plantes -->
    <div class="grid grid-3" *ngIf="!isLoading && plants.length > 0">
      <div class="card plant-card fade-in" 
           [style.animation-delay]="i * 0.1 + 's'"
           (click)="viewPlant(plant.id)" 
           *ngFor="let plant of plants; let i = index">
        
        <!-- Image -->
        <div class="plant-image-container">
          <img [src]="plant.imageUrl || 'assets/default-plant.jpg'" 
               [alt]="plant.name" 
               class="plant-image"
               onerror="this.src='assets/default-plant.jpg'">
          <div class="image-overlay">
            <div class="overlay-badge">
              <i class="fas fa-seedling"></i>Plante
            </div>
          </div>
        </div>
        
        <!-- Contenu -->
        <div class="card-body">
          <div class="plant-header">
            <h3 class="plant-title">{{ plant.name }}</h3>
            <p class="plant-scientific">
              <i class="fas fa-microscope"></i>{{ plant.scientificName }}
            </p>
          </div>
          
          <p class="plant-description">
            {{ plant.description | slice:0:100 }}{{ plant.description && plant.description.length > 100 ? '...' : '' }}
          </p>
          
          <!-- Badges -->
          <div class="plant-badges">
            <div class="badge-group">
              <span class="badge badge-success" *ngIf="plant.isIndoor">
                <i class="fas fa-home"></i>Intérieur
              </span>
              <span class="badge badge-warning" *ngIf="plant.isOutdoor">
                <i class="fas fa-tree"></i>Extérieur
              </span>
              <span class="badge badge-info" *ngIf="plant.isPerennial">
                <i class="fas fa-infinity"></i>Vivace
              </span>
              <span class="badge badge-danger" *ngIf="plant.isAnnual">
                <i class="fas fa-calendar"></i>Annuelle
              </span>
            </div>
            
            <div class="plant-family">
              <i class="fas fa-layer-group"></i>{{ plant.family }}
            </div>
          </div>
          
          <!-- Bouton d'action -->
          <div class="plant-action">
            <button class="btn btn-outline-success btn-full">
              <i class="fas fa-eye"></i>Voir les détails
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- État vide -->
    <div class="empty-state" *ngIf="!isLoading && plants.length === 0">
      <div class="empty-icon">
        <i class="fas fa-seedling"></i>
      </div>
      <h3 class="empty-title">Aucune plante trouvée</h3>
      <p class="empty-description">
        Il semble qu'il n'y ait pas encore de plantes dans le catalogue. 
        Commencez par ajouter votre première plante !
      </p>
      <button class="btn btn-success" (click)="addPlant()" *ngIf="isLoggedIn()">
        <i class="fas fa-plus"></i>Ajouter la première plante
      </button>
    </div>
  </div>
</div>
